<h2>Leaderboard</h2>

<p>The following table shows the users with the most verses memorized. To appear on the leaderboard you must have completed a memorization
   session in the past month.</p>

<div class="user-list">
	<table cellpadding="6" cellspacing="1" border="1">  	
		<tr>
			<th>Rank</th>
			<th>Username</th>		  
			<th>Name</th>	
			<th>Memorized</th>
			<th>Learning</th>
			<th>Affiliation</th>
			<th>Country</th>
		</tr>
		
		<% for user in @leaderboard %>
			<tr valign="top" class="<%= cycle('list-line-odd', 'list-line-even') %>">
				<td align="center"> <%= @leaderboard.index(user)+1%></td>
				<td align="left">   <%= user[0].login		%></td>	
				<td align="left">   <%= user[0].name		%></td>
				<td align="center"> <%= user[1]				%></td>	
				<td align="center"> <%= user[0].learning 	%></td>
				<td align="left"> 	<%= user[0].church ? link_to(user[0].church.name, { :controller => "profile", :action => "show_church", :church => user[0].church.id }) : "" %></td>
				<td align="left"> 	<%= user[0].country ? user[0].country.printable_name : "" %></td>				
			</tr>
		<% end %>
		
		<% if @not_on_leaderboard %>
			<tr>
				<td align="center">You</td>
				<td align="left"> 	<%= current_user.login												%></td>	
				<td align="left"> 	<%= current_user.name												%></td>
				<td align="center"> <%= current_user.memorized 											%></td>			
				<td align="center"> <%= current_user.learning 											%></td>
				<td align="left"> 	<%= current_user.church ? link_to(current_user.church.name, { :controller => "profile", :action => "show_church", :church => current_user.church.id }) : "" %></td>
				<td align="left"> 	<%= current_user.church ?  current_user.church.name : ""			%></td>
				<td align="left"> 	<%= current_user.country ? current_user.country.printable_name : "" %></td>
			</tr>
		<% end %>
	</table>
</div>